# üåâ SIP-ConnectyCube Bridge - Configura√ß√µes Completas
# Copie este arquivo para .env e ajuste conforme necess√°rio

# === üìû CONFIGURA√á√ïES SIP ===
SIP_DOMAIN=localhost
SIP_PORT=5060
SIP_USERNAME=bridge_user
SIP_PASSWORD=bridge_password
SIP_REGISTRAR=sip:localhost:5060
SIP_TRANSPORT=UDP
SIP_AUDIO_CODECS=PCMU,PCMA,G722,Opus
SIP_VIDEO_CODECS=H264,VP8,VP9

# === üéõÔ∏è CONFIGURA√á√ïES AMI (Asterisk Manager Interface) ===
AMI_HOST=localhost
AMI_PORT=5038
AMI_USERNAME=admin
AMI_SECRET=agd7.K1
AMI_RECONNECT_DELAY=5000
AMI_KEEPALIVE_DELAY=30000
AMI_COMMAND_TIMEOUT=10000

# === üåê CONFIGURA√á√ïES CONNECTYCUBE ===
CONNECTYCUBE_APP_ID=5142
CONNECTYCUBE_AUTH_KEY=tdNXZbdB4D7aAzR
CONNECTYCUBE_AUTH_SECRET=vvqkODFqBsHrLwS
CONNECTYCUBE_ACCOUNT_KEY=6591
CONNECTYCUBE_API_ENDPOINT=https://api.connectycube.com
CONNECTYCUBE_CHAT_ENDPOINT=chat.connectycube.com
CONNECTYCUBE_DEBUG=false

# === üåâ CONFIGURA√á√ïES DO BRIDGE ===
# Modo de opera√ß√£o: sip-only | ami-only | hybrid
BRIDGE_MODE=hybrid

# Porta do servidor HTTP do bridge
BRIDGE_PORT=3000
BRIDGE_HOST=0.0.0.0

# === üéµ CONFIGURA√á√ïES DE M√çDIA ===
# Range de portas RTP para m√≠dia
RTP_PORT_MIN=10000
RTP_PORT_MAX=20000

# Codecs preferidos para transcodifica√ß√£o
PREFERRED_AUDIO_CODEC=Opus
PREFERRED_VIDEO_CODEC=VP8

# Qualidade de m√≠dia
VIDEO_BITRATE_MAX=1024
AUDIO_BITRATE_MAX=64

# === ‚öôÔ∏è CONFIGURA√á√ïES DE SISTEMA ===
# Ambiente de execu√ß√£o
NODE_ENV=development

# N√≠vel de log: error | warn | info | debug | trace
LOG_LEVEL=debug

# Arquivo de log
LOG_FILE=logs/bridge.log
LOG_MAX_SIZE=10MB
LOG_MAX_FILES=5

# === üìä CONFIGURA√á√ïES DE MONITORAMENTO ===
# M√©tricas e estat√≠sticas
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_ENDPOINT=/metrics

# Health check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PORT=8080
HEALTH_CHECK_ENDPOINT=/health

# === üîí CONFIGURA√á√ïES DE SEGURAN√áA ===
# Chave secreta para JWT (gere uma nova para produ√ß√£o)
JWT_SECRET=sua_chave_secreta_super_segura_aqui

# CORS origins permitidas (separadas por v√≠rgula)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,https://app.empresa.com

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# === üìû CONFIGURA√á√ïES DE CHAMADAS ===
# Timeout para estabelecimento de chamada (segundos)
CALL_TIMEOUT=300

# Timeout para ring sem resposta (segundos)
RING_TIMEOUT=60

# M√°ximo de chamadas simult√¢neas
MAX_CONCURRENT_CALLS=100

# Grava√ß√£o de chamadas
CALL_RECORDING_ENABLED=false
CALL_RECORDING_PATH=recordings/

# === üóÑÔ∏è CONFIGURA√á√ïES DE BANCO DE DADOS (Opcional) ===
# Para CDR e estat√≠sticas avan√ßadas
DATABASE_ENABLED=false
DATABASE_TYPE=postgres
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=bridge_db
DATABASE_USER=bridge_user
DATABASE_PASSWORD=bridge_password

# === üìß CONFIGURA√á√ïES DE NOTIFICA√á√ïES (Opcional) ===
# Email notifications
EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=seu_email@gmail.com
SMTP_PASS=sua_senha_app
EMAIL_FROM=bridge@empresa.com

# Webhook notifications
WEBHOOK_ENABLED=false
WEBHOOK_URL=https://api.empresa.com/webhook/bridge
WEBHOOK_SECRET=webhook_secret_key

# === üöÄ CONFIGURA√á√ïES DE PRODU√á√ÉO ===
# Clustering (PM2/Docker)
CLUSTER_ENABLED=false
CLUSTER_WORKERS=auto

# Redis para sess√µes distribu√≠das
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# === üîß CONFIGURA√á√ïES DE DESENVOLVIMENTO ===
# Hot reload
HOT_RELOAD=true

# Debugging
DEBUG_SIP=false
DEBUG_AMI=true
DEBUG_CONNECTYCUBE=false
DEBUG_MEDIA=false

# Simula√ß√£o (para testes sem hardware)
SIMULATE_SIP_CALLS=false
SIMULATE_AMI_EVENTS=false
